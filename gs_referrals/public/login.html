<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Referral Lounge</title>

    <meta name="description" content="Earn money by sharing on linkedin">
    <meta name="viewport" content="width=device-width">
    <script src="scripts/lib/jquery.js"></script>

    <link rel="stylesheet" href="styles/home.css">
</head>

<body id='reflou' class="full-screen centered-display">
    <!-- TODO Create random values for state field-->
    <h2>Login in with LinkedIn</h2>
    <a href="" id="login">Login</a>

    <script type="text/javascript">
        var response_type = "code",
            client_id = "75bhjbeib8ljx4",
            redirect_uri = "http://localhost:3000",
            state = "_view-_show-job_job-id-abcd_origin-linkedin",// patter COMMANDNAME-param-_COMMANDNAME2-param-param : -> safely encoded urls.
            scope = "r_network r_basicprofile r_contactinfo r_emailaddress r_fullprofile r_network rw_company_admin rw_groups rw_nus w_messages w_share";

        redirect_uri = encodeURI(redirect_uri);
        scope = encodeURI(scope);
        redirect_uri = encodeURI(redirect_uri);
        state = encodeURI(state);
        var loginUrl = function(){
            return "https://www.linkedin.com/uas/oauth2/authorization?"
                            + "response_type=" + response_type
                            + "&client_id=" + client_id
                            + "&redirect_uri=" + redirect_uri
                            + "&state=" + state
                            + "&scope=" +scope
                    ;
        };

        $(document).ready(function(){
            $("#login").attr("href", loginUrl());
        });
    </script>
</body>

</html>